{"version":3,"sources":["components/Filter.js","components/PersonForm.js","components/Persons.js","services/persons.js","App.js","reportWebVitals.js","index.js"],"names":["Filter","props","value","onChange","PersonForm","onSubmit","nameValue","onChangeName","numberValue","onChangeNumber","type","Person","name","onClick","number","baseUrl","axios","get","then","response","data","newObject","post","id","delete","put","Notification","message","className","App","useState","persons","setPersons","newName","setNewName","newNumber","setNewNumber","newFilter","setNewFilter","notif","setNotif","error","setError","useEffect","personTools","filterRegExp","RegExp","console","log","event","target","preventDefault","nameObject","setTimeout","index","findIndex","p","match","concat","a","catch","window","confirm","updatedPerson","map","filter","n","reportWebVitals","onPerfEntry","Function","getCLS","getFID","getFCP","getLCP","getTTFB","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.259d8cf6.chunk.js","sourcesContent":["import React from 'react';\n\nconst Filter = (props) => {\n  return (\n  <div>\n  <h2>Filter entries</h2>\n  <div>\n    <form>\n      <input value={props.value} onChange={props.onChange}/>\n    </form>\n  </div>\n  </div>\n)\n}\n\nexport default Filter;\n","import React from 'react';\n\nconst PersonForm = (props) => {\n  return (\n    <form onSubmit={props.onSubmit}>\n      <div>\n        name: <input value={props.nameValue}\n                     onChange={props.onChangeName}\n                />\n      </div>\n      <div>\n        number: <input value={props.numberValue}\n                     onChange={props.onChangeNumber}\n                />\n      </div>\n      <div>\n        <button type=\"submit\">add</button>\n      </div>\n    </form>\n  )\n}\n\nexport default PersonForm;\n","import React from 'react';\n\n//person building function\nconst Person = ({ name, onClick }) => <p>{name.name} {name.number} <button onClick={onClick}>Delete</button></p>\n\n\nexport default Person;\n","import axios from 'axios'\nconst baseUrl = '/api/persons'\n\nconst getPersons = () => {\n  const request = axios.get(baseUrl);\n  return request.then(response => response.data)\n}\n\nconst addPerson = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\n\n\nconst replaceNumber = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  return request.then(response => response.data)\n}\n\n\nconst removePerson = id => axios.delete(baseUrl+`/${id}`)\n\nexport default { getPersons, addPerson, removePerson, replaceNumber }\n","import React, { useState, useEffect } from 'react'\nimport Filter from './components/Filter'\nimport PersonForm from './components/PersonForm'\nimport Person from './components/Persons'\nimport personTools from './services/persons'\nimport './index.css'\nimport './App.css';\n\nconst Notification = ({ message, className }) => {\n  if (message === null) {\n    return null\n  }\n  return (\n    <div className={className}>{message}</div>\n  )\n}\n\nfunction App() {\n\n//Set up states\n  const [ persons, setPersons ] = useState([]);\n  const [ newName, setNewName ] = useState('');\n  const [ newNumber, setNewNumber ] = useState('');\n  const [ newFilter, setNewFilter ] = useState('');\n  const [ notif, setNotif ] = useState(null);\n  const [ error, setError ] = useState(null);\n\n//Get data from \"server\"\n  useEffect(() => {\n    personTools\n      .getPersons()\n      .then(response => setPersons(response))\n  }, [])\n\n  //Build handleChange functions for tables\n  const handleNameChange = event => {\n    console.log(event.target.value);\n    setNewName(event.target.value);\n  }\n\n  const handleNumberChange = event => {\n    console.log(event.target.value);\n    setNewNumber(event.target.value);\n  }\n\n  const handleFilterChange = event => {\n    console.log(event.target.value);\n    setNewFilter(event.target.value);\n  }\n\n\n  //Make filter into regex to make it case insensitive\n  const filterRegExp = new RegExp(newFilter, \"i\");\n  console.log(newName);\n  //function to add names and numbers into the phonebook\n  const addName = (event) => {\n    event.preventDefault();\n    const nameObject = {\n          name: newName,\n          number: newNumber\n        }\n    if (!nameObject.name || !nameObject.number) {\n      setError('Name and number required');\n      setTimeout(() => {setError(null)}, 5000)\n      setNewName('');\n      setNewNumber('');\n      return;\n    }\n    const index = persons.findIndex(p => p.name.match(newName));\n    console.log('newName:', newName);\n    console.log('Index: ', index);\n    console.log('Nothing?')\n\n    if (index !== -1) {\n\n      if (window.confirm(`${newName} already added to the phonebook, do you want to update the number?`)) {\n          personTools\n            .replaceNumber(persons[index].id, nameObject)\n            .then(updatedPerson => {\n              setPersons(persons.map(a => a.id !== persons[index].id ? a : updatedPerson ))\n\n            })\n            .then(a => {\n\n                setNotif(`${newName}'s number updated!`)\n                setTimeout(() => {setNotif(null)}, 5000)\n              })\n            .catch(error => {\n              console.log(\"TÃ¤nne?\");\n        setError(\n          `${newName} was already removed from the server`)\n          setTimeout(() => {setError(null)}, 5000);\n          setPersons(persons.filter(n => n.id !== persons[index].id));\n          setNewName('');\n          setNewNumber('');\n      })\n\n        };\n      return;\n    }\n\n        personTools\n          .addPerson(nameObject)\n          .then(response => setPersons(persons.concat(response)))\n          .then(a => {\n            setNotif(`'${newName}' added to the phonebook!`)\n            setTimeout(() => {setNotif(null)}, 5000)\n            setNewName('');\n            setNewNumber('');\n          })\n          .catch(error => {\n            console.log(error.response.data)\n            setError(error.response.data)\n            setTimeout(() => {setError(null)}, 5000)\n          })\n\n  }\n\n\n    const deletePerson = (id, name) => {\n      if (window.confirm(`Delete ${name}?`)) {\n        console.log(id);\n      personTools\n        .removePerson(id)\n        .then(a => {\n            setNotif(`${name} deleted :(`)\n            setTimeout(() => {setNotif(null)}, 5000)\n            setNewName('');\n            setNewNumber('');\n          })\n      setPersons(persons.filter(a => a.id !== id))\n    }\n    }\n\n\n\n  return (\n    <div className=\"App\">\n      <header className=\"App-header\">\n      <div>\n    <h1>Phonebook</h1>\n    <Notification message={notif} className=\"notif\" />\n    <Notification message={error} className=\"error\" />\n    <Filter value={newFilter} onChange={handleFilterChange} />\n    <h2>Add new entry</h2>\n    <PersonForm onSubmit={addName}\n                nameValue={newName}\n                onChangeName={handleNameChange}\n                numberValue={newNumber}\n                onChangeNumber={handleNumberChange}\n    />\n\n\n    <h2>Numbers</h2>\n\n\n    <div>{persons.filter(a => a.name.match(filterRegExp))\n                 .map(a => {\n\n                   return <Person\n                              key={a.id}\n                              name={a}\n                              onClick={() => deletePerson(a.id, a.name)}\n                              />\n}\n                            )\n                            }\n\n\n    </div>\n    </div>\n\n\n      </header>\n    </div>\n  );\n}\n\nexport default App;\n","const reportWebVitals = onPerfEntry => {\n  if (onPerfEntry && onPerfEntry instanceof Function) {\n    import('web-vitals').then(({ getCLS, getFID, getFCP, getLCP, getTTFB }) => {\n      getCLS(onPerfEntry);\n      getFID(onPerfEntry);\n      getFCP(onPerfEntry);\n      getLCP(onPerfEntry);\n      getTTFB(onPerfEntry);\n    });\n  }\n};\n\nexport default reportWebVitals;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport reportWebVitals from './reportWebVitals';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n\n// If you want to start measuring performance in your app, pass a function\n// to log results (for example: reportWebVitals(console.log))\n// or send to an analytics endpoint. Learn more: https://bit.ly/CRA-vitals\nreportWebVitals();\n"],"sourceRoot":""}